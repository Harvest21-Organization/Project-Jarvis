```markdown
# Product Requirements Document: Harvest 21 Missionary Web Platform

## TL;DR

Harvest 21 is a web + mobile platform that allows missionaries to create individualized landing pages to connect with followers, display ministry updates, prayer requests, media, and facilitate donations. Access to detailed content requires users to have a Harvest 21 account. Missionaries benefit from visibility, funding tools, community support, and cross-organization promotion. Built with responsive UI on Next.js and Flutter, the platform prioritizes usability, security, and scalability. The platform also serves mission agencies and churches with administrative tools, statistical dashboards, branded neighborhood pages, and real-time engagement tracking.

---

## Goals

### Business Goals

- Increase monthly recurring donations by 25% within the first 12 months
- Achieve 10,000+ active missionary landing pages 12 months post-launch
- Attain conversion rate of 30% from profile views to account creation
- Reduce onboarding friction to <5 minutes per missionary
- Partner with at least 100 mission agencies and 500 churches in year one
- Generate meaningful analytics for organizational partners (location heatmaps, engagement metrics)
- Ensure 99.9% system uptime and sub-250ms web response time

### User Goals

- Missionaries can easily tell their story, raise support, and track engagement.
- Donors can follow and support missionaries they care about with ease and safety.
- Supporters stay informed via updates, prayer requests, and live events.
- Mission agencies and churches gain visibility and unified branding via customized neighborhood pages.
- Users have full control over notifications and privacy preferences.

### Non-Goals

- Internal mission agency accounting or payroll workflows
- In-platform video hosting (external embedding only)
- Full social media functionality (e.g., commenting threads)
- CMS-level editing beyond predefined structures for landing pages
- Individual donor-to-missionary chat functionality

---

## User Stories

### User Personas

#### Missionary
As a **Missionary**, I want to create and manage my own customized landing page, so that I can engage supporters and grow monthly financial support.

#### Supporter
As a **Supporter**, I want to follow missionaries and receive updates, so that I can stay emotionally and spiritually connected.

#### Mission Agency Admin
As an **Agency Admin**, I want to monitor my missionaries' engagement and control branding, so that my organization stays consistent and up to date.

#### Church Admin
As a **Church Admin**, I want to showcase and track missionaries we support, so our members better understand and support our global missions engagement.

#### Anonymous Visitor
As a **Visitor**, I want to learn about missionaries and create an account, so I can investigate or join their support community.

---

## Functional Requirements

### Landing Page Features (Priority: High)

- Landing page with custom banner, profile image, and tabs: Updates, About Us, Prayer Wall, Pictures, You May Also Like
- Tab access restricted to logged-in users
- Follow button (requires login)
- Progress bar and percentage support level indicator
- Donate, Encourage, Tell Others, Visit, Wishlist, Live Events buttons (conditional visibility)
- Tabs include:

#### Updates Tab

- Upload/update Word, PDF, Video update letters
- Upload archive management and content deletion
- Icon appears on user's profile pic for 7 days post upload
- Push/email/visible notification to followers

#### About Us Tab

- "About Me" text field (markdown supported)
- Embedded video capability
- Static missionary info (country, last name, support level)

#### Prayer Wall Tab

- Multiple prayer request text boxes visible to users
- Likes with count tracker
- Expire/delete after 30 days of no edits
- Notification icon and alerts system for new prayer posts

#### Pictures Tab

- Upload image files (PNG, JPG, HEIC)
- Text field caption per image
- Photo-upload-triggered notification and icon for followers

#### You May Also Like Tab

- Add/remove featured missionaries (by search)
- Click-through navigation to other missionary pages

### Button Behavior

- Visit → Conditionally green (visible if missionary toggles “Open to Visits”)
- Encourage → Opens mailto: or email pop-up
- Live Event → Shows scheduled Zoom/Google Meet/etc. with link
- Tell Others → Opens modal with share options: Instagram, FB, TikTok, X, etc.
- Wishlist → Link to external Amazon Wishlist
- Donate → Opens branded donation page with recurring or one-time options

---

## User Experience

### Entry Point & First-Time Experience

- Profile icon prompts sign-in/create account modal
- Homepage default preview with limited content
- Tabs and actions gated for logged-in users
- New Missionary onboarding wizard: Profile → Landing Page Setup → Account Complete
- Continent auto-fills from country input
- Admin onboarding wizard for Mission Agencies, Churches, and Colleges

### Core Experience

**Step 1:** Visit a Missionary Landing Page  
- UI: Missionary profile picture, banner, support % bar, follow/enroll buttons  
- Tabs default to hidden unless user is logged in  

**Step 2:** User clicks one of the tabs  
- Navigation: If unauthorized, login/signup modal appears  
- UI: Tab content loaded asynchronously post-authentication  

**Step 3:** User follows, donates, or enrolls  
- System triggers notifications (if enabled) and updates analytics accordingly  

**Step 4:** Admins manage neighborhood pages  
- Filterable/searchable tables of missionaries  
- Sorting by name, continent, country, status, support level  

---

## Advanced Features & Edge Cases

- Icons on profile picture stack with hover/tooltip hints
- Icons clear after content viewed or after 7 days
- Live badge for Open to Visits (green outline), Event Scheduled (green icon)
- Email notifications sent weekly to agency and church admins
- Missionaries can delete accounts; recovery for 60 days
- Author control on whether followers receive deletion notification
- Follower notification preferences:
  - Types: Update letter, prayer request, new event, donation, badge, visit status
  - Channels: Push, email, text, social (FB), visible only

---

## UI/UX Highlights

- **Design System**: Unified across web/mobile (Material 3 / Cupertino / Tailwind)
- **Interactions**: Smooth transitions, hover states, pop-over modals, accessibility
- **Responsive**: Layout parity across Web (Next.js) / Mobile (Flutter)

---

## Narrative

Meet Jessica, a missionary serving in East Africa. She wants to keep supporters updated, raise funds, and invite others into her ministry—all from a digital platform that feels personal and intuitive.

With Harvest 21, Jessica quickly creates a landing page, adds her support banner, a heartfelt welcome video, and sections like “Updates,” “Pictures,” and “Prayer Wall.” She enables followers to receive real-time updates when she posts prayer needs, goes live on Zoom for Q&A, or needs support for a new project. A green "Visit" light signals when she’s open to hosting. Her support level automatically syncs with her agency's system or is maintained manually.

As people follow her journey, her agency gets insights on engagement, her supporters feel more connected, and she experiences increased recurring donations. Jessica can focus on her ministry—Harvest 21 handles the communication infrastructure and fosters long-term support relationships.

---

## Success Metrics

### User-Centric Metrics

- % of missionaries who complete onboarding
- Average session time per user
- Click-to-follow conversion rates
- Donation amount per landing page
- # of active users by week/month
- Notification opt-in rates

### Business Metrics

- Recurring donation growth
- New missionary pages/month
- Avg. donation (one-off vs recurring)
- Partnership pipeline (agencies, churches)

### Technical Metrics

- API latency: ≤ 200ms
- Live uptime: ≥ 99.9%
- File storage error rates < 0.1%
- Email delivery success rate > 98%
- Login failure vs total login attempts

---

## Tracking Plan

- Events: Page views, Login/Signup funnel, Tab opens, Follows, Donations, Video views
- Engagement: Likes on prayer wall, Comments, Form submissions
- Custom events: Icon clicks, Notification actions, Content uploads/deletes
- Analytics tools: AWS QuickSight, Mixpanel, or Segment for pipeline management

---

## Technical Considerations

### UI Architecture

- **Frontend (Web)**: Next.js + TailwindCSS + Framer Motion
- **Frontend (Mobile)**: Flutter (Material 3 / Cupertino style)
- **Design Library**: ShadCN UI (Web), Custom Widgets (Mobile)
- **State Management**: Server state + client cache (SWR / Redux / Flutter Riverpod)
- **Accessibility**: WCAG 2.1 AA across all pages

### API & Backend Architecture

- **Backend**: FastAPI (Python 3.11+)
- **Database**: PostgreSQL (AWS RDS)
- **File Storage**: AWS S3 (Images, PDFs, Videos)
- **User Auth**: AWS Cognito, with RBAC
- **Search**: PostgreSQL full-text search; add Qdrant for semantic search
- **Hosting**: AWS ECS / Lambda (backend), CloudFront (static assets)
- **CI/CD**: CodePipeline + GitHub Actions for branches and test environment

### Performance & Scalability

- SSR + Incremental Static Regeneration (ISR) via Next.js
- Long-term CDN caching for images and immutable assets
- Load balancing and horizontal autoscaling via ECS Fargate
- Throttling for file uploads, rate-limiting for auth events

### Security

- 2FA for admin accounts
- Stripe/PayPal PCI-compliant donation workflows
- Form validation and spam protections
- Real-time threat monitoring (AWS GuardDuty)

---

## Integration Points

- **Stripe / PayPal / Apple Pay / Google Pay** for processing donations
- **AWS SNS/SQS** for email/push notifications
- **AWS CloudWatch** + sentry.io for error logging & alerts
- **Qdrant / Pinecone**: Optional vector search for discovery
- **Custom SSO API** with mission agencies (optional)
- **Email (Amazon SES or Mailgun)** for account creation, updates, and alerts

---

⚙️ Contact technical team before enabling agency or church iframe integrations to ensure cookie + auth persistence crosses iframe barriers.
```